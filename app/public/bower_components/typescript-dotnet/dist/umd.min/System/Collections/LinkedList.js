/*!
 * @author electricessence / https://github.com/electricessence/
 * Based Upon: http://msdn.microsoft.com/en-us/library/he2s3bh7%28v=vs.110%29.aspx
 * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md
 */
!function(t){if("object"==typeof module&&"object"==typeof module.exports){var e=t(require,exports);void 0!==e&&(module.exports=e)}else"function"==typeof define&&define.amd&&define(["require","exports","../Compare","../Collections/Array/Utility","./Enumeration/Enumerator","./Enumeration/EnumeratorBase","./LinkedNodeList","../Exceptions/InvalidOperationException","../Exceptions/ArgumentNullException"],t)}(function(t,e){"use strict";function n(t,e){if(!t)return null;var n=t.external;return n||(t.external=n=new p(e,t)),n}function r(t,e){if(!t)throw new f["default"]("Cannot be null.");if(t.list!=e)throw new l["default"]("Provided node does not belong to this list.");var n=t._node;if(!n)throw new l["default"]("Provided node is not valid.");return n}var o=t("../Compare"),i=t("../Collections/Array/Utility"),u=t("./Enumeration/Enumerator"),a=t("./Enumeration/EnumeratorBase"),s=t("./LinkedNodeList"),l=t("../Exceptions/InvalidOperationException"),f=t("../Exceptions/ArgumentNullException"),d=function(){function t(t,e,n){this.value=t,this.previous=e,this.next=n}return t.prototype.assertDetached=function(){if(this.next||this.previous)throw new l["default"]("Adding a node that is already placed.")},t}(),c=function(){function t(t){for(var e=this,n=0,r=u.from(t),o=e._listInternal=new s["default"];r.moveNext();)o.addNode(new d(r.current)),++n;e._count=n}return t.prototype.forEach=function(t,e){if(void 0===e&&(e=!1),e){var n=this.toArray();i.forEach(n,t),n.length=0}else this._listInternal.forEach(function(e,n){return t(e.value,n)})},t.prototype.getEnumerator=function(){var t,e,n=this;return new a["default"](function(){t=null,e=n._listInternal.first},function(n){return e?(t=e,e=t&&t.next,n.yieldReturn(t.value)):n.yieldBreak()})},t.prototype._findFirst=function(t){for(var e=o.areEqual,n=this._listInternal.first;n;){if(e(t,n.value))return n;n=n.next}return null},t.prototype._findLast=function(t){for(var e=o.areEqual,n=this._listInternal.last;n;){if(e(t,n.value))return n;n=n.previous}return null},Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this._listInternal.addNode(new d(t)),this._count++},t.prototype.clear=function(){return this._count=0,this._listInternal.clear()},t.prototype.contains=function(t){var e=!1,n=o.areEqual;return this.forEach(function(r){return!(e=n(t,r))}),e},t.prototype.copyTo=function(t,e){if(void 0===e&&(e=0),!t)throw new f["default"]("array");if(this._listInternal.first){var n=e+this._count;t.length<n&&(t.length=n),this.forEach(function(n,r){t[e+r]=n})}return t},t.prototype.toArray=function(){var t=i.initialize(this._count);return this.copyTo(t)},t.prototype.removeOnce=function(t){return 0!==this.remove(t,1)},t.prototype.remove=function(t,e){void 0===e&&(e=1/0);var n=o.areEqual,r=this,i=r._listInternal,u=0;return i.forEach(function(o){return n(t,o.value)&&i.removeNode(o)&&(--r._count,++u),e>u}),u},Object.defineProperty(t.prototype,"first",{get:function(){return n(this._listInternal.first,this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return n(this._listInternal.last,this)},enumerable:!0,configurable:!0}),t.prototype.getValueAt=function(t){return this._listInternal.getNodeAt(t).value},t.prototype.getNodeAt=function(t){return n(this._listInternal.getNodeAt(t),this)},t.prototype.find=function(t){return n(this._findFirst(t),this)},t.prototype.findLast=function(t){return n(this._findLast(t),this)},t.prototype.addFirst=function(t){this._listInternal.addNodeBefore(new d(t)),++this._count},t.prototype.addLast=function(t){this.add(t)},t.prototype.removeFirst=function(){var t=this,e=t._listInternal.first;e&&t._listInternal.removeNode(e)&&t._count--},t.prototype.removeLast=function(){var t=this,e=t._listInternal.last;e&&t._listInternal.removeNode(e)&&--t._count},t.prototype.removeNode=function(t){var e=this,n=e._listInternal.removeNode(r(t,e));return n&&--e._count,n},t.prototype.addBefore=function(t,e){this._listInternal.addNodeBefore(new d(e),r(t,this)),++this._count},t.prototype.addAfter=function(t,e){this._listInternal.addNodeAfter(new d(e),r(t,this)),++this._count},t.prototype.addNodeBefore=function(t,e){this._listInternal.addNodeBefore(r(e,this),r(t,this)),++this._count},t.prototype.addNodeAfter=function(t,e){this._listInternal.addNodeAfter(r(e,this),r(t,this)),++this._count},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c;var p=function(){function t(t,e){this._list=t,this._nodeInternal=e}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return n(this._nodeInternal.previous,this._list)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return n(this._nodeInternal.next,this._list)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._nodeInternal.value},set:function(t){this._nodeInternal.value=t},enumerable:!0,configurable:!0}),t.prototype.addBefore=function(t){this._list.addBefore(this,t)},t.prototype.addAfter=function(t){this._list.addAfter(this,t)},t.prototype.addNodeBefore=function(t){this._list.addNodeBefore(this,t)},t.prototype.addNodeAfter=function(t){this._list.addNodeAfter(this,t)},t.prototype.remove=function(){this._list.removeNode(this)},t}()});
//# sourceMappingURL=LinkedList.js.map
