/*!
 * @author electricessence / https://github.com/electricessence/
 * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md
 */
!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","../Text/Utility","../Exceptions/InvalidOperationException","../Exceptions/ArgumentException","../Exceptions/ArgumentNullException"],e)}(function(e,t){"use strict";function r(e,t){if(void 0===t&&(t="node"),null==e)throw new s["default"](t);if(e.next||e.previous)throw new n["default"]("Cannot add a node to a LinkedNodeList that is already linked.")}var o=e("../Text/Utility"),n=e("../Exceptions/InvalidOperationException"),i=e("../Exceptions/ArgumentException"),s=e("../Exceptions/ArgumentNullException"),u=function(){function e(){this._first=null,this._last=null}return Object.defineProperty(e.prototype,"first",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){for(var e=this._first,t=0;e;)t++,e=e.next;return t},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){var t=null,r=this.first,o=0;do t=r,r=t&&t.next;while(t&&e(t,o++)!==!1)},e.prototype.clear=function(){var e,t=this,r=0,o=0;for(e=t._first,t._first=null;e;){r++;var n=e;e=e.next,n.next=null}for(e=t._last,t._last=null;e;){o++;var n=e;e=e.previous,n.previous=null}return r!==o&&console.warn("LinkedNodeList: Forward versus reverse count does not match when clearing. Forward: "+r+", Reverse: "+o),r},e.prototype.dispose=function(){this.clear()},e.prototype.contains=function(e){return-1!=this.indexOf(e)},e.prototype.getNodeAt=function(e){if(0>e)return null;for(var t=this._first,r=0;t&&e<r++;)t=t.next;return t},e.prototype.indexOf=function(e){if(e&&(e.previous||e.next)){var t,r=0,o=this._first;do{if(t=o,t===e)return r;r++}while(o=t&&t.next)}return-1},e.prototype.removeFirst=function(){return this.removeNode(this._first)},e.prototype.removeLast=function(){return this.removeNode(this._last)},e.prototype.removeNode=function(e){if(null==e)throw new s["default"]("node");var t=this,r=e.previous,n=e.next,u=!1,f=!1;if(r?r.next=n:t._first==e?t._first=n:u=!0,n?n.previous=r:t._last==e?t._last=r:f=!0,u!==f)throw new i["default"]("node",o.format("Provided node is has no {0} reference but is not the {1} node!",u?"previous":"next",u?"first":"last"));return!u&&!f},e.prototype.addNode=function(e){this.addNodeAfter(e)},e.prototype.addNodeBefore=function(e,t){r(e);var o=this;if(t||(t=o._first),t){var n=t.previous;e.previous=n,e.next=t,t.previous=e,n&&(n.next=e),t==o._first&&(o._last=e)}else o._first=o._last=e},e.prototype.addNodeAfter=function(e,t){r(e);var o=this;if(t||(t=o._last),t){var n=t.next;e.next=n,e.previous=t,t.next=e,n&&(n.previous=e),t==o._last&&(o._last=e)}else o._first=o._last=e},e.prototype.replace=function(e,t){if(null==e)throw new s["default"]("node");r(t,"replacement");var o=this;t.previous=e.previous,t.next=e.next,e.previous&&(e.previous.next=t),e.next&&(e.next.previous=t),e==o._first&&(o._first=t),e==o._last&&(o._last=t)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u});
//# sourceMappingURL=LinkedNodeList.js.map
